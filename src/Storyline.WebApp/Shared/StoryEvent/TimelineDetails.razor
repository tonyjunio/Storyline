@code {

    [Parameter]
    public Models.Storyline.StoryEvent StoryEvent { get; set; }


    protected override void OnInitialized()
    {
        base.OnInitialized();
    }
}

@if (this.StoryEvent is not null)
{
    var item = this.StoryEvent;
    <div class="event-details rad-mask">
        <div class="summary event-bg" style="background-image: var(--summary-radial-gradient), var(--summary-linear-gradient), url('@item.Image');">
            <h3>@item.Title</h3>
            <p>@item.Summary</p>
        </div>
        <div class="moreinfo">
            <div>
                <h5>Characters</h5>
                @if (item.Characters is not null)
                {
                    <ul class="ref-list">
                        @foreach (var i in item.Characters)
                        {
                            <li class="ref-bg" style="background-image: var(--moreinfo-gradient), url('@i.Image');">
                                <a href="@i.Wiki" target="_blank">@i.Name</a>
                            </li>
                        }
                    </ul>
                }
                <h5>Organizations</h5>
                @if (item.Organizations is not null)
                {
                    <ul class="ref-list">
                        @foreach (var i in item.Organizations)
                        {
                            <li class="ref-bg" style="background-image: var(--moreinfo-gradient), url('@i.Image');">
                                <a href="@i.Wiki" target="_blank">@i.Name</a>
                            </li>
                        }
                    </ul>
                }

                <h5>Viruses</h5>
                @if (item.Viruses is not null)
                {
                    <ul class="ref-list">
                        @foreach (var i in item.Viruses)
                        {
                            <li class="ref-bg" style="background-image: var(--moreinfo-gradient), url('@i.Image');">
                                <a href="@i.Wiki" target="_blank">@i.Name</a>
                            </li>
                        }
                    </ul>
                }

                <h5>Games</h5>
                @if (item.Games is not null)
                {
                    <ul class="ref-list">
                        @foreach (var i in item.Games)
                        {
                            <li class="ref-bg" style="background-image: var(--moreinfo-gradient), url('@i.Image');">
                                <a href="@i.Wiki" target="_blank">@i.Title</a>
                            </li>
                        }
                    </ul>
                }

                <h5>Movies</h5>
                @if (item.Movies is not null)
                {
                    <ul class="ref-list">
                        @foreach (var i in item.Movies)
                        {
                            <li class="ref-bg" style="background-image: var(--moreinfo-gradient), url('@i.Image');">
                                <a href="@i.Wiki" target="_blank">@i.Title</a>
                            </li>
                        }
                    </ul>
                }
            </div>
        </div>
    </div>
}
else
{
    <div>?</div>
}


<style>
    :root {
        --moreinfo-gradient: linear-gradient(to bottom, #00000030, #031c1ced);
        --summary-radial-gradient: radial-gradient(circle, transparent 40%, #000000 75%);
        --summary-linear-gradient: linear-gradient(to right, #000000, grey);
    }

    .event-bg {
        background-blend-mode: var(--blend-top, normal), var(--blend-bottom, saturation), normal;
        background-position: top center;
        background-repeat: no-repeat;
        background-size: cover;
        --color-v: black;
        --color: grey;
    }

    .rad-mask {
        -webkit-mask: radial-gradient(circle, #000000ba 1px, rgb(0 0 0 / 88%) 160px);
        backdrop-filter: blur(5px);
    }

    .event-details {
        align-items: stretch;
        display: flex;
        flex-flow: row nowrap;
        justify-content: center;
        min-height: 80vh;
        width: 100%;
    }

        .event-details .summary {
            background-color: #00000036;
            border-left: 1px solid #3b3b3b;
            border-right: 1px solid #3b3b3b;
            border-radius: 2px;
            box-shadow: 4px 0px 16px -8px #000;
            padding: 20px;
            position: relative;
            width: 40%;
        }

            .event-details .summary h3 {
                margin-bottom: 20px;
                color: #9b8c58;
            }

            .event-details .summary p {
                background: #00000036;
                border-top: 1px solid #393939;
                padding: 10px;
            }

        .event-details .moreinfo {
            padding: 20px 10px 10px 20px;
            position: relative;
            width: 60%;
        }

            .event-details .moreinfo > div {
            }

            .event-details .moreinfo h5 {
                border-bottom: 1px solid #06383b;
                color: #24c4cd;
                font-weight: 400;
                padding: 50px 0 10px;
            }

    .ref-list {
        align-items: center;
        display: flex;
        flex-flow: row wrap;
        justify-content: left;
        list-style: none;
        padding: 0;
    }

        .ref-list > li {
            align-items: end;
            border: 1px solid #20acb4;
            border-left-width: 10px;
            border-radius: 2px;
            display: flex;
            font-weight: 500;
            justify-content: center;
            margin: 0 5px;
            min-height: 200px;
            width: 150px;
        }

            .ref-list > li > a {
                xbackground: #00000091;
                color: white;
                display: block;
                font-weight: 500;
                padding: 5px 2px;
                text-align: center;
                text-decoration: none;
                width: 100%;
            }

    .ref-bg {
        background-position: top center;
        background-repeat: no-repeat;
        background-size: cover;
    }

    .ref-list > li > a:hover {
        color: #20acb4;
    }

        .ref-list > li:hover > a {
        }
</style>