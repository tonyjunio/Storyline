@code {

    [Parameter]
    public Models.Storyline.StoryEvent StoryEvent { get; set; }


    protected override void OnInitialized()
    {
        base.OnInitialized();
    }
}

@if (this.StoryEvent is not null)
{
    var item = this.StoryEvent;
    <div class="event-details rad-mask">
        <div class="summary event-bg" style="background-image: radial-gradient(circle, transparent 40%, var(--color-v) 75%), linear-gradient(to right, var(--color), var(--color)), url('@item.Image');">
            <h3>@item.Title</h3>
            <p>@item.Summary</p>
        </div>
        <div class="moreinfo">
            <div>
                <h5>Characters</h5>
                @if (item.Characters is not null)
                {
                    foreach (var c in item.Characters)
                    {
                        <span>@c.Name</span>
                    }
                }
                <h5>Organizations</h5>
                @if (item.Organizations is not null)
                {
                    foreach (var o in item.Organizations)
                    {
                        <span>@o.Name</span>
                    }
                }

                <h5>Viruses</h5>
                @if (item.Viruses is not null)
                {
                    foreach (var v in item.Viruses)
                    {
                        <span>@v.Name</span>
                    }
                }

                <h5>Games</h5>
                @if (item.Games is not null)
                {
                    foreach (var g in item.Games)
                    {
                        <span>@g.Title</span>
                    }
                }

                <h5>Movies</h5>
                @if (item.Movies is not null)
                {
                    foreach (var m in item.Movies)
                    {
                        <span>@m.Title</span>
                    }
                }
            </div>
        </div>
    </div>
}
else
{
    <div>?</div>
}


<style>

    .event-bg {
        background-blend-mode: var(--blend-top, normal), var(--blend-bottom, saturation), normal;
        background-position: top center;
        background-repeat: no-repeat;
        background-size: cover;
        --color-v: black;
        --color: grey;
    }

    .rad-mask {
        -webkit-mask: radial-gradient(circle, #000000ba 1px, rgb(0 0 0 / 88%) 160px);
        backdrop-filter: blur(5px);
    }

    .event-details {
        align-items: stretch;
        display: flex;
        flex-flow: row nowrap;
        justify-content: center;
        min-height: 80vh;
        width: 100%;
    }

        .event-details .summary {
            background-color: #00000036;
            border: 1px solid #3b3b3b;
            border-radius: 2px;
            box-shadow: 4px 0px 16px -8px #000;
            padding: 20px;
            position: relative;
            width: 40%;
        }

            .event-details .summary h3 {
                margin-bottom: 20px;
                color: #9b8c58;
            }

            .event-details .summary p {
                background: #00000036;
                border-top: 1px solid #393939;
                padding: 10px;
            }

        .event-details .moreinfo {
            padding: 10px;
            position: relative;
            width: 60%;
        }

            .event-details .moreinfo h5 {
                font-weight: 300;
                color: #646464;
            }
</style>